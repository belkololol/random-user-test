(this.webpackJsonprandomuser=this.webpackJsonprandomuser||[]).push([[0],{23:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),c=n(10),a=n.n(c);n(23),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(9);var i=n(4),o=n(14),u=n.n(o),l=n(17),d=n(2),j=n(15),b=n(18),O="SET_USERS",h="TOGGLE_PRELOADER",f="TOGGLE_SORT",v="CHANGE_COUNT_USERS",p="DELETE_USER",m="SET_INITIAL_USERS",g="FILTER_USER",x="VIEW_USER_CARD",C="HIDE_USER_CARD",U={users:[],initialUsers:[],isLoading:!1,countUsers:localStorage.getItem("countUsers")||"",isSort:!1,userCard:null};function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(d.a)(Object(d.a)({},e),{},{users:t.users});case m:return Object(d.a)(Object(d.a)({},e),{},{initialUsers:t.users});case h:return Object(d.a)(Object(d.a)({},e),{},{isLoading:!e.isLoading});case v:return Object(d.a)(Object(d.a)({},e),{},{countUsers:t.count});case f:return Object(d.a)(Object(d.a)({},e),{},{isSort:t.boolean});case p:return Object(d.a)(Object(d.a)({},e),{},{users:e.users.filter((function(e){return e.id!==t.id}))});case g:return Object(d.a)(Object(d.a)({},e),{},{users:e.initialUsers.filter((function(e){return e[t.obj.column].toLowerCase().includes(t.obj.value.toLowerCase())}))});case x:return Object(d.a)(Object(d.a)({},e),{},{userCard:t.userCard});case C:return Object(d.a)(Object(d.a)({},e),{},{userCard:null});default:return e}}var L=Object(j.b)(y,Object(j.a)(b.a));function S(e){return{type:O,users:e}}function k(e){return{type:m,users:e}}function N(e){return{type:h,action:e}}function E(e){return{type:p,id:e}}function w(e){return{type:C,action:e}}var R=n(5),_=n(6),D=n(3),F=n(8),T=n(7),I=n(11),B=n(0);var H=Object(i.b)((function(e){return{userCard:e.userCard}}),{deleteUser:E,viewUserCard:function(e){return{type:x,userCard:e}}})((function(e){var t=e.user,n=e.deleteUser,r=e.viewUserCard,s=!!e.userCard;return Object(B.jsxs)("tr",{onClick:function(){return r(t)},children:[Object(B.jsx)("td",{children:t.name}),Object(B.jsx)("td",{children:t.gender}),Object(B.jsx)("td",{children:t.email}),Object(B.jsx)("td",{children:Object(B.jsx)("button",{className:"delete",onClick:function(e){e.stopPropagation(),n(t.id)},disabled:s})})]})})),G=function(e){Object(F.a)(n,e);var t=Object(T.a)(n);function n(e){var r;return Object(R.a)(this,n),(r=t.call(this,e)).state={filterContent:"",arrayFilter:Object(I.a)(e.options),hiddenList:!0},r.filter=r.filter.bind(Object(D.a)(r)),r.choiceUser=r.choiceUser.bind(Object(D.a)(r)),r.deleteFilter=r.deleteFilter.bind(Object(D.a)(r)),r.toggleHiddenList=r.toggleHiddenList.bind(Object(D.a)(r)),r.onBlur=r.onBlur.bind(Object(D.a)(r)),r}return Object(_.a)(n,[{key:"filter",value:function(e){var t=this.props,n=t.getOptionLabel,r=t.options,s=t.onChange;this.setState({filterContent:e.target.value,arrayFilter:r.filter((function(t){return n(t).toLowerCase().includes(e.target.value.toLowerCase())}))}),s(e.target.value)}},{key:"choiceUser",value:function(e){var t=this.props,n=t.getOptionLabel,r=t.onSelect;this.setState({filterContent:n(e)}),r(n(e))}},{key:"deleteFilter",value:function(){var e=this.props,t=e.getOptionLabel,n=e.options,r=e.onSelect;this.setState({filterContent:"",arrayFilter:n.filter((function(e){return t(e).includes("")}))}),r("")}},{key:"toggleHiddenList",value:function(e){this.setState({hiddenList:e})}},{key:"onBlur",value:function(){var e=this;setTimeout((function(){return e.toggleHiddenList(!0)}),200)}},{key:"render",value:function(){var e=this,t=this.state,n=t.filterContent,r=t.hiddenList,s=t.arrayFilter,c=this.props.getOptionLabel;return Object(B.jsxs)("div",{className:"filter-container",children:[Object(B.jsx)("input",{className:"filter",type:"text",onChange:this.filter,onFocus:function(){return e.toggleHiddenList(!1)},onBlur:this.onBlur,value:n}),Object(B.jsx)("ul",{className:"".concat(r?"hidden":""," list-filter"),children:s.map((function(t,n){return Object(B.jsx)("li",{onClick:function(){return e.choiceUser(t)},children:c(t)},n)}))}),n.length>0?Object(B.jsx)("button",{className:"delete-filter",onClick:this.deleteFilter}):null]})}}]),n}(s.a.Component),A=function(e){Object(F.a)(n,e);var t=Object(T.a)(n);function n(e){var r;return Object(R.a)(this,n),(r=t.call(this,e)).sortData=r.sortData.bind(Object(D.a)(r)),r.deleteUser=r.deleteUser.bind(Object(D.a)(r)),r}return Object(_.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.toggleSort)(!1)}},{key:"sortData",value:function(){var e=this.props,t=e.toggleSort,n=e.setUsers,r=e.users;n(Object(I.a)(r).sort((function(e,t){var n=e.name.toLowerCase(),r=t.name.toLowerCase();return n<r?-1:n>r?1:0}))),t(!0)}},{key:"deleteUser",value:function(e){this.props.deleteUser(e)}},{key:"render",value:function(){var e=this.props,t=e.users,n=e.countUsers,r=e.isSort,s=e.initialUsers,c=e.filterUser;return n?Object(B.jsx)("div",{children:Object(B.jsx)("table",{className:"table-users",children:Object(B.jsxs)("tbody",{children:[Object(B.jsxs)("tr",{children:[Object(B.jsxs)("th",{children:[Object(B.jsx)("span",{children:"\u0418\u043c\u044f"}),Object(B.jsx)("button",{className:"".concat(r?"active":""," sort"),onClick:this.sortData})]}),Object(B.jsx)("th",{children:"\u041f\u043e\u043b"}),Object(B.jsx)("th",{children:"Email"}),Object(B.jsx)("th",{})]}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:Object(B.jsx)(G,{options:s,getOptionLabel:function(e){return e.name},onSelect:function(e){return c({value:e,column:"name"})},onChange:function(e){return c({value:e,column:"name"})}})}),Object(B.jsx)("td",{children:Object(B.jsx)(G,{options:["\u0436\u0435\u043d\u0441\u043a\u0438\u0439","\u043c\u0443\u0436\u0441\u043a\u043e\u0439"],getOptionLabel:function(e){return e},onSelect:function(e){return c({value:e,column:"gender"})},onChange:function(e){return c({value:e,column:"gender"})}})}),Object(B.jsx)("td",{children:Object(B.jsx)(G,{options:s,getOptionLabel:function(e){return e.email},onSelect:function(e){return c({value:e,column:"email"})},onChange:function(e){return c({value:e,column:"email"})}})}),Object(B.jsx)("td",{})]}),t.map((function(e){return Object(B.jsx)(H,{user:e},e.id)}))]})})}):null}}]),n}(s.a.Component),W=Object(i.b)((function(e){return{users:e.users,initialUsers:e.initialUsers,countUsers:e.countUsers,isSort:e.isSort}}),{setUsers:S,toggleSort:function(e){return{type:f,boolean:e}},deleteUser:E,filterUser:function(e){return{type:g,obj:e}}})(A);var J=function(){return Object(B.jsx)("div",{className:"preloader-container",children:Object(B.jsx)("div",{className:"preloader"})})};var M=Object(i.b)((function(e){return{userCard:e.userCard}}),{hideUserCard:w})((function(e){var t=e.userCard,n=e.hideUserCard;return Object(B.jsxs)("div",{className:"user-card-wrapper",children:[Object(B.jsx)("div",{className:"user-card",children:Object(B.jsxs)("div",{className:"user-card-container",children:[Object(B.jsx)("div",{className:"user-avatar",children:Object(B.jsx)("img",{src:"".concat(t.avatar),alt:"avatar"})}),Object(B.jsx)("div",{className:"user-info",children:Object(B.jsxs)("ul",{children:[Object(B.jsxs)("li",{className:"user-name",children:[t.name," "]}),Object(B.jsxs)("li",{children:[Object(B.jsx)("b",{children:"Gender:"})," ",t.gender," "]}),Object(B.jsxs)("li",{children:[Object(B.jsx)("b",{children:"Email:"})," ",t.email," "]}),Object(B.jsxs)("li",{children:[Object(B.jsx)("b",{children:"Cell:"})," ",t.cell," "]}),Object(B.jsxs)("li",{children:[Object(B.jsx)("b",{children:"City:"})," ",t.city," "]})]})})]})}),Object(B.jsx)("button",{className:"close",onClick:n})]})})),P=function(e){Object(F.a)(n,e);var t=Object(T.a)(n);function n(e){var r;return Object(R.a)(this,n),(r=t.call(this,e)).changeCountUsers=r.changeCountUsers.bind(Object(D.a)(r)),r}return Object(_.a)(n,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.getUsers)(e.countUsers)}},{key:"changeCountUsers",value:function(e){var t=this.props,n=t.getUsers,r=t.changeCountUsers;r(e.target.value),n(e.target.value),localStorage.setItem("countUsers",e.target.value)}},{key:"render",value:function(){var e=this.props,t=e.countUsers,n=e.isLoading,r=e.userCard;return Object(B.jsxs)("div",{className:"users-container",children:[Object(B.jsx)("input",{className:"count-users",type:"text",onChange:this.changeCountUsers,value:t,placeholder:"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c?"}),n?Object(B.jsx)(J,{}):Object(B.jsx)(W,{}),r&&Object(B.jsx)(M,{})]})}}]),n}(s.a.Component),V=Object(i.b)((function(e){return{isLoading:e.isLoading,countUsers:e.countUsers,userCard:e.userCard}}),{getUsers:function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n){var r,s,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(N()),t.next=3,fetch("https://randomuser.me/api/?results=".concat(e));case 3:return r=t.sent,t.next=6,r.json();case 6:s=t.sent,c=s.results.map((function(e){return{id:e.login.uuid,name:"".concat(e.name.title," ").concat(e.name.first," ").concat(e.name.last),gender:"male"===e.gender?"\u043c\u0443\u0436\u0441\u043a\u043e\u0439":"\u0436\u0435\u043d\u0441\u043a\u0438\u0439",email:e.email,avatar:e.picture.large,cell:e.cell,city:e.location.city}})),n(k(c)),n(S(c)),n(N());case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},changeCountUsers:function(e){return{type:v,count:e}}})(P);var $=Object(i.b)((function(e){return{userCard:e.userCard}}),{hideUserCard:w})((function(e){var t=e.userCard,n=e.hideUserCard;return Object(B.jsxs)("div",{className:"app-container",children:[Object(B.jsx)("h1",{className:"title",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"}),Object(B.jsx)(V,{}),t&&Object(B.jsx)("div",{className:"background-modal",onClick:n})]})}));a.a.render(Object(B.jsx)(i.a,{store:L,children:Object(B.jsx)($,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,n){}},[[32,1,2]]]);
//# sourceMappingURL=main.8fc191d9.chunk.js.map